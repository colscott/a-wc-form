<!DOCTYPE html>
<html>
    <head>
        <script type="module">
          import { data } from './mock.js';
          import { LitElement, html, css } from 'lit-element';
          import { controlBinder as binder, controlBinders as binders } from '../src/index.js';

          binder.add(...Object.values(binders));

          customElements.define('test-form-binder', class extends LitElement {
            static get properties() {
              return {
                data: { type: Object },
              }; 
            }
            constructor() {
              super();
              this.data = data;
            }
            static get styles() {
              return css`
                :invalid {
                  border: 1px solid red;
                }
              `;
            }
            render() { return html`
              <form-binder @form-binder:change=${e => {this.data = e.detail.data;this.requestUpdate();}} .data=${this.data}>
                <section>
                  <input type="text" pattern="fred.*" name="#/name" />
                  <input type="number" min="40" max="150" step="1" name="#/personalData/age" />
                  <input type="number" max="50" name="/personalData/age" />
                  <input type="number" name="personalData/age" />
                  <input name="#/telephoneNumbers/1" />
                  <input type="checkbox" id="vegetarian" name="/vegetarian" />
                </section>
                <section>${JSON.stringify(this.data)}<br/>${JSON.stringify(data)}</section>
              </form-binder>` }
          })
        </script>
    </head>
    <body>
        <test-form-binder></test-form-binder>
    </body>
</html>